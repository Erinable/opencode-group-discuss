{
  // OpenCode Group Discuss 配置文件示例
  // 放置位置：
  // - 项目级：.opencode/group-discuss.json
  // - 全局级：~/.config/opencode/group-discuss.json

  // 默认参数设置
  "defaults": {
    "mode": "debate",           // 默认讨论模式：debate 或 collaborative
    "rounds": 3,                // 默认轮数
    "timeout": 600000,          // 超时时间（毫秒），默认 10 分钟
    "concurrency": 2,           // 并发调用数
    "verbose": true,            // 显示详细输出
    "keep_sessions": false,     // 是否保留子会话（调试用）
    "max_retries": 3            // 最大重试次数
  },

  // 预设配置（通过 preset 参数快速使用）
  "presets": {
    // 技术评审预设
    "tech-review": {
      "agents": ["advocate", "critic", "moderator"],
      "mode": "debate",
      "rounds": 3
    },
    
    // 架构设计预设
    "architecture": {
      "participants": [
        { "name": "Architect", "subagent_type": "critic", "role": "负责系统整体架构与可用性设计" },
        { "name": "DBA", "subagent_type": "general", "role": "负责数据库选型与一致性保障" },
        { "name": "Security", "subagent_type": "critic", "role": "负责安全审计与合规" }
      ],
      "mode": "collaborative",
      "rounds": 5,
      "context": "请从可扩展性、可维护性、安全性等多个维度进行分析"
    },
    
    // 代码审查预设
    "code-review": {
      "participants": [
        { "name": "Reviewer", "subagent_type": "critic", "role": "审查代码质量、最佳实践" },
        { "name": "Security", "subagent_type": "critic", "role": "审查安全漏洞" },
        { "name": "Author", "subagent_type": "advocate", "role": "解释设计意图、回应反馈" }
      ],
      "mode": "collaborative",
      "rounds": 2
    },
    
    // 产品需求讨论预设
    "product-discussion": {
      "participants": [
        { "name": "PM", "subagent_type": "general", "role": "产品经理，关注用户需求和业务目标" },
        { "name": "Frontend", "subagent_type": "explore", "role": "前端工程师，关注交互体验和实现复杂度" },
        { "name": "Backend", "subagent_type": "explore", "role": "后端工程师，关注 API 设计和数据模型" }
      ],
      "mode": "collaborative",
      "rounds": 3
    }
  },

  // 共识评估配置
  "consensus": {
    "threshold": 0.8,                    // 共识度阈值（达到此值建议结束讨论）
    "enable_convergence_analysis": true, // 启用趋同分析
    "stalemate_window": 2,               // 僵局检测窗口（连续 N 轮无变化）
    // 自定义关键词权重（可选）
    "keyword_weights": {
      // 正向关键词示例
      // "批准": 0.9,
      // "通过": 0.8,
      // 负向关键词示例
      // "否决": -0.9,
      // "阻塞": -0.8
    }
  },

  // 终止条件配置
  "termination": {
    "min_confidence": 0.7,               // 最小置信度阈值
    "enable_stalemate_detection": true,  // 启用僵局检测
    "stalemate_rounds": 3,               // 僵局轮次阈值
    // 禁用的内置终止条件（可选）
    "disabled_conditions": [
      // "timeout",           // 禁用超时检测
      // "stalemate"          // 禁用僵局检测
    ]
  }
}
